{"version":3,"sources":["integration/Integration.js","App.js","custom-element/et-app.js"],"names":["endpoint","process","addAuthorizationRequestConfig","config","defaultOptions","getDefaultOptions","token","window","entando","keycloak","authenticated","headers","Authorization","getData","a","axios","get","App","useState","payload","setPayload","data","onClick","EtApp","this","mountPoint","document","createElement","render","ReactDOM","StrictMode","appendChild","HTMLElement","customElements","define"],"mappings":"6QAEMA,EAAQ,UAAMC,4BAAN,aAERC,EAAgC,WAAc,IAAbC,EAAY,uDAAL,GACtCC,EAAiBC,IACrB,OAAO,2BACAF,GACAC,IAYLC,EAAoB,WACtB,IAAMC,EARFC,QAAUA,OAAOC,SAAWD,OAAOC,QAAQC,UAAYF,OAAOC,QAAQC,SAASC,cACxEH,OAAOC,QAAQC,SAASH,MAE5B,GAMP,OAAKA,EACE,CACHK,QAAS,CACLC,cAAc,UAAD,OAAYN,KAHd,IASVO,EAAO,uCAAG,sBAAAC,EAAA,sEACfC,IAAMC,IAAIhB,EAAUE,KADL,mFAAH,qD,OCVLe,MAlBf,WACI,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KADW,4CAEX,sBAAAN,EAAA,kEACIM,EADJ,SACsBP,IADtB,mBACiCQ,KAAKF,SADtC,0DAFW,sBAMX,OACI,qCACI,8BACI,wBAAQG,QATT,2CASC,4BAEJ,8BACI,+BAAOH,UCTjBI,E,uKACF,WACIC,KAAKC,WAAaC,SAASC,cAAc,QACzCH,KAAKI,W,oBAGT,WACIC,IAASD,OAAO,cAAC,IAAME,WAAP,UACJ,cAAC,EAAD,MAERN,KAAKO,YAAYP,KAAKC,iB,eAVdO,cAcpBC,eAAejB,IAAI,WAAaiB,eAAeC,OAAO,SAAUX,K","file":"static/js/main.531bfeb5.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst endpoint = `${process.env.REACT_APP_PUBLIC_API_URL}/example/`\r\n\r\nconst addAuthorizationRequestConfig = (config={})=>{\r\n    let defaultOptions = getDefaultOptions();\r\n    return {\r\n        ...config,\r\n        ...defaultOptions\r\n    }\r\n}\r\n\r\nconst getKeycloakToken = () => {\r\n    if (window && window.entando && window.entando.keycloak && window.entando.keycloak.authenticated) {\r\n        return window.entando.keycloak.token\r\n    }\r\n    return ''\r\n}\r\n\r\n\r\nconst getDefaultOptions = () => {\r\n    const token = getKeycloakToken()\r\n    if (!token) return {}\r\n    return {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n    }\r\n}\r\n\r\n\r\nexport const getData = async ()=>\r\n  await axios.get(endpoint, addAuthorizationRequestConfig())\r\n\r\n\r\n\r\n","import {getData} from \"./integration/Integration\";\r\nimport {useState} from \"react\";\r\n\r\nfunction App() {\r\n    const [payload, setPayload] = useState(\"\")\r\n    async function callTheApi() {\r\n        setPayload((await getData()).data.payload)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <button onClick={callTheApi}>call the api</button>\r\n            </div>\r\n            <div>\r\n                <span>{payload}</span>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from \"react-dom\"\r\nimport React from \"react\"\r\nimport App from '../App'\r\n\r\n\r\n\r\nclass EtApp extends HTMLElement {\r\n    connectedCallback() {\r\n        this.mountPoint = document.createElement('span')\r\n        this.render()\r\n    }\r\n\r\n    render() {\r\n        ReactDOM.render(<React.StrictMode>\r\n                    <App/>\r\n            </React.StrictMode>,\r\n            this.appendChild(this.mountPoint))\r\n    }\r\n}\r\n\r\ncustomElements.get('et-app') || customElements.define(\"et-app\", EtApp)\r\n"],"sourceRoot":""}